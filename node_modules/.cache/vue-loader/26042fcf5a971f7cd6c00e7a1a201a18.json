{"remainingRequest":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\vue-loader-v16\\dist\\index.js??ref--1-1!C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\src\\views\\money.vue?vue&type=style&index=0&id=75e16716&lang=less","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\src\\views\\money.vue","mtime":1675316195232},{"path":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\css-loader\\dist\\cjs.js","mtime":1660115963200},{"path":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\vue-loader-v16\\dist\\stylePostLoader.js","mtime":1660115974820},{"path":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\postcss-loader\\src\\index.js","mtime":1660115970033},{"path":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\less-loader\\dist\\cjs.js","mtime":1660116126630},{"path":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1660115738255},{"path":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\vue-loader-v16\\dist\\index.js","mtime":1660115974820}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQoubW9uZXktd3JhcHBlciB7DQogIGRpc3BsYXk6IGZsZXg7DQogIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47DQogIG1pbi1oZWlnaHQ6IDEwMCU7DQogIC5hZGQtd3JhcHBlciB7DQogICAgbWFyZ2luLXRvcDogMjBweDsNCiAgICB0ZXh0LWFsaWduOiBsZWZ0Ow0KICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmY7DQogIH0NCiAgLnRhYmxlLXdyYXBwZXIgew0KICAgIG1hcmdpbi10b3A6IDIwcHg7DQogICAgZmxleDogMTsNCiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmOw0KICAgIG1pbi1oZWlnaHQ6IDEwMCU7DQogIH0NCn0NCg=="},{"version":3,"sources":["C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\src\\views\\money.vue"],"names":[],"mappings":";AAmPA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACX,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EACxB;EACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;IACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;EAClB;AACF","file":"C:/Users/admin/Desktop/web前端相关/villataotao/villataotao/src/views/money.vue","sourceRoot":"","sourcesContent":["<template>\r\n  <div class=\"money-wrapper padding-small-class\">\r\n    <div class=\"title padding-left-class\">\r\n      <div class=\"width-trip\"></div>\r\n      <div class=\"title-name\">新增花销</div>\r\n    </div>\r\n\r\n    <div class=\"add-wrapper padding-small-class\">\r\n\r\n      <!-- 条件查询 -->\r\n\r\n      <!-- 新增按钮 -->\r\n\r\n      <el-button\r\n        size=\"large\"\r\n        @click=\"openAddDialog\"\r\n      >\r\n        <el-icon style=\"vertical-align: middle\">\r\n          <Plus />\r\n        </el-icon>\r\n        <span style=\"vertical-align: middle\"> 新增 </span>\r\n      </el-button>\r\n\r\n    </div>\r\n\r\n    <!-- 花销列表 -->\r\n    <div class=\"table-wrapper padding-small-class\">\r\n      <el-table\r\n        :data=\"tableData\"\r\n        border\r\n        :summary-method=\"getSummaries\"\r\n        show-summary\r\n        align=\"center\"\r\n      >\r\n      <el-table-column\r\n          prop=\"date\"\r\n          label=\"日期\"\r\n        />\r\n        <el-table-column\r\n          prop=\"type\"\r\n          label=\"所属分类\"\r\n        />\r\n        <el-table-column\r\n          prop=\"cost\"\r\n          label=\"花费\"\r\n        />\r\n       \r\n\r\n      </el-table>\r\n    </div>\r\n  </div>\r\n\r\n  <el-dialog\r\n    v-model=\"dialogFormVisible\"\r\n    title=\"Shipping address\"\r\n  >\r\n    <el-form\r\n      :model=\"form\"\r\n      :label-width=\"formLabelWidth\"\r\n      ref=\"ruleFormRef\"\r\n      :rules=\"rules\"\r\n      status-icon\r\n    >\r\n      <el-form-item label=\"日期\">\r\n\r\n        <el-date-picker\r\n          v-model=\"form.date\"\r\n          type=\"date\"\r\n          placeholder=\"请选择日期\"\r\n          format=\"YYYY/MM/DD\"\r\n          value-format=\"YYYY-MM-DD\"\r\n        />\r\n      </el-form-item>\r\n\r\n    \r\n\r\n      <el-form-item label=\"所属分类\">\r\n        <el-select\r\n          v-model=\"form.type\"\r\n          placeholder=\"请选择分类\"\r\n        >\r\n          <el-option\r\n            label=\"固定支出\"\r\n            value=\"固定支出\"\r\n          />\r\n          <el-option\r\n            label=\"灵活支出\"\r\n            value=\"灵活支出\"\r\n          />\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"花费\">\r\n        <el-input\r\n          v-model=\"form.cost\"\r\n          placeholder=\"请输入花费的金额\"\r\n        />\r\n      </el-form-item>\r\n\r\n    </el-form>\r\n    <template #footer>\r\n      <span class=\"dialog-footer\">\r\n        <el-button @click=\"dialogFormVisible = false\">取消</el-button>\r\n        <el-button\r\n          type=\"primary\"\r\n          @click=\"save(ruleFormRef)\"\r\n        >保存</el-button>\r\n        <el-button @click=\"resetForm(ruleFormRef)\">重置</el-button>\r\n\r\n      </span>\r\n    </template>\r\n  </el-dialog>\r\n</template>\r\n\r\n<script lang=\"ts\" setup>\r\nimport type { FormInstance, FormRules } from 'element-plus';\r\nimport type { TableColumnCtx } from 'element-plus/es/components/table/src/table-column/defaults';\r\nimport { inject, onMounted, reactive, ref } from 'vue';\r\n\r\nonMounted(() => {\r\n})\r\n\r\n// const  value= inject(\"isShow\")\r\n\r\n\r\ninterface Product {\r\n  type: string\r\n  cost: string\r\n  date: string\r\n}\r\n\r\ninterface SummaryMethodProps<T = Product> {\r\n  columns: TableColumnCtx<T>[]\r\n  data: T[]\r\n}\r\n\r\nconst getSummaries = (param: SummaryMethodProps) => {\r\n  const { columns, data } = param\r\n  const sums: string[] = []\r\n  columns.forEach((column, index) => {\r\n    if (index === 0) {\r\n      sums[index] = '合计'\r\n      return\r\n    }\r\n    const values = data.map((item) => {\r\n        \r\n        \r\n        return Number(item[column.property])\r\n    \r\n    \r\n    })\r\n\r\n    if (!values.every((value) => Number.isNaN(value))) {\r\n      sums[index] = ` ${values.reduce((prev, curr) => {\r\n        const value = Number(curr)\r\n        if (!Number.isNaN(value)) {\r\n          return prev + curr\r\n        } else {\r\n          return prev\r\n        }\r\n      }, 0)}元`\r\n    } else {\r\n      sums[index] = 'N/A'\r\n    }\r\n\r\n\r\n  })\r\n\r\n  return sums\r\n}\r\n\r\n// 显示花销的列表\r\nconst tableData: Product[] = reactive([\r\n{\r\n  type: '固定支出',\r\n  cost: '100',\r\n  date: '2023-02-02',\r\n},\r\n{\r\n  type: '固定支出',\r\n  cost: '100',\r\n  date: '2023-02-02',\r\n}\r\n])\r\nconst dialogFormVisible = ref(false)\r\nconst formLabelWidth = '140px'\r\nconst ruleFormRef = ref<FormInstance>()\r\nconst form = reactive({\r\n  type: '',\r\n  cost: '',\r\n  date: '',\r\n})\r\n\r\nconst rules = reactive<FormRules>({\r\n\r\n  type: [\r\n    {\r\n      required: true,\r\n      message: '请选择一个分类',\r\n      trigger: 'change',\r\n    },\r\n  ],\r\n  cost: [\r\n    {\r\n      required: true,\r\n      message: '请填写金额',\r\n      trigger: 'change',\r\n    },\r\n  ],\r\n  date: [\r\n    {\r\n      type: 'date',\r\n      required: true,\r\n      message: '哪天花的钱？',\r\n      trigger: 'change',\r\n    },\r\n  ],\r\n})\r\n\r\n// 打开弹窗\r\nconst openAddDialog = () => {\r\n  dialogFormVisible.value = true\r\n}\r\n\r\nconst save = async (formEl: FormInstance | undefined) => {\r\n  if (!formEl) return\r\n  await formEl.validate((valid, fields) => {\r\n    if (valid) {\r\n      console.log(form)\r\n      tableData.push(form)\r\n      console.log(tableData)\r\n\r\n      dialogFormVisible.value = false\r\n    } else {\r\n      console.log('error submit!', fields)\r\n    }\r\n  })\r\n}\r\nconst resetForm = (formEl: FormInstance | undefined) => {\r\n  if (!formEl) return\r\n  formEl.resetFields()\r\n}\r\n</script>\r\n<style lang=\"less\">\r\n.money-wrapper {\r\n  display: flex;\r\n  flex-direction: column;\r\n  min-height: 100%;\r\n  .add-wrapper {\r\n    margin-top: 20px;\r\n    text-align: left;\r\n    background-color: #fff;\r\n  }\r\n  .table-wrapper {\r\n    margin-top: 20px;\r\n    flex: 1;\r\n    background-color: #fff;\r\n    min-height: 100%;\r\n  }\r\n}\r\n</style>\r\n"]}]}