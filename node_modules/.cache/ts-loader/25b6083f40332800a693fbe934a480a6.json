{"remainingRequest":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\_babel-loader@8.2.5@babel-loader\\lib\\index.js!C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\_ts-loader@6.2.2@ts-loader\\index.js??ref--14-2!C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\_vue-loader@16.8.3@vue-loader\\dist\\index.js??ref--1-1!C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\src\\views\\money.vue?vue&type=script&lang=ts&setup=true","dependencies":[{"path":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\src\\views\\money.vue","mtime":1660026882793},{"path":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\babel.config.js","mtime":1660026882772},{"path":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\_babel-loader@8.2.5@babel-loader\\lib\\index.js","mtime":315532800000},{"path":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\_ts-loader@6.2.2@ts-loader\\index.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\_vue-loader@16.8.3@vue-loader\\dist\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucmVkdWNlLmpzIjsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IGFzIF9kZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnOwppbXBvcnQgeyByZWFjdGl2ZSwgcmVmIH0gZnJvbSAndnVlJzsKZXhwb3J0IGRlZmF1bHQgLyojX19QVVJFX18qL19kZWZpbmVDb21wb25lbnQoewogIF9fbmFtZTogJ21vbmV5JywKCiAgc2V0dXAoX19wcm9wcywgewogICAgZXhwb3NlCiAgfSkgewogICAgZXhwb3NlKCk7CgogICAgY29uc3QgZ2V0U3VtbWFyaWVzID0gcGFyYW0gPT4gewogICAgICBjb25zdCB7CiAgICAgICAgY29sdW1ucywKICAgICAgICBkYXRhCiAgICAgIH0gPSBwYXJhbTsKICAgICAgY29uc3Qgc3VtcyA9IFtdOwogICAgICBjb2x1bW5zLmZvckVhY2goKGNvbHVtbiwgaW5kZXgpID0+IHsKICAgICAgICBpZiAoaW5kZXggPT09IDApIHsKICAgICAgICAgIHN1bXNbaW5kZXhdID0gJ+WQiOiuoSc7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQoKICAgICAgICBjb25zdCB2YWx1ZXMgPSBkYXRhLm1hcChpdGVtID0+IE51bWJlcihpdGVtW2NvbHVtbi5wcm9wZXJ0eV0pKTsKCiAgICAgICAgaWYgKCF2YWx1ZXMuZXZlcnkodmFsdWUgPT4gTnVtYmVyLmlzTmFOKHZhbHVlKSkpIHsKICAgICAgICAgIHN1bXNbaW5kZXhdID0gYCQgJHt2YWx1ZXMucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gTnVtYmVyKGN1cnIpOwoKICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4odmFsdWUpKSB7CiAgICAgICAgICAgICAgcmV0dXJuIHByZXYgKyBjdXJyOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHJldHVybiBwcmV2OwogICAgICAgICAgICB9CiAgICAgICAgICB9LCAwKX1gOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdW1zW2luZGV4XSA9ICdOL0EnOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBzdW1zOwogICAgfTsgLy8g5pi+56S66Iqx6ZSA55qE5YiX6KGoCgoKICAgIGNvbnN0IHRhYmxlRGF0YSA9IHJlYWN0aXZlKFtdKTsKICAgIGNvbnN0IGRpYWxvZ0Zvcm1WaXNpYmxlID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGZvcm1MYWJlbFdpZHRoID0gJzE0MHB4JzsKICAgIGNvbnN0IHJ1bGVGb3JtUmVmID0gcmVmKCk7CiAgICBjb25zdCBmb3JtID0gcmVhY3RpdmUoewogICAgICBuYW1lOiAnJywKICAgICAgdHlwZTogJycsCiAgICAgIGNvc3Q6ICcnLAogICAgICBkYXRlOiAnJwogICAgfSk7CiAgICBjb25zdCBydWxlcyA9IHJlYWN0aXZlKHsKICAgICAgbmFtZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6LCB6Iqx6ZKx5LqG5bCx6YCJ6LCBJywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9XSwKICAgICAgdHlwZTogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6K+36YCJ5oup5LiA5Liq5YiG57G7JywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9XSwKICAgICAgY29zdDogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAn6K+35aGr5YaZ6YeR6aKdJywKICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICB9XSwKICAgICAgZGF0ZTogW3sKICAgICAgICB0eXBlOiAnZGF0ZScsCiAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgbWVzc2FnZTogJ+WTquWkqeiKseeahOmSse+8nycsCiAgICAgICAgdHJpZ2dlcjogJ2NoYW5nZScKICAgICAgfV0KICAgIH0pOyAvLyDmiZPlvIDlvLnnqpcKCiAgICBjb25zdCBvcGVuQWRkRGlhbG9nID0gKCkgPT4gewogICAgICBkaWFsb2dGb3JtVmlzaWJsZS52YWx1ZSA9IHRydWU7CiAgICB9OwoKICAgIGNvbnN0IHNhdmUgPSBhc3luYyBmb3JtRWwgPT4gewogICAgICBpZiAoIWZvcm1FbCkgcmV0dXJuOwogICAgICBhd2FpdCBmb3JtRWwudmFsaWRhdGUoKHZhbGlkLCBmaWVsZHMpID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGNvbnNvbGUubG9nKGZvcm0pOwogICAgICAgICAgdGFibGVEYXRhLnB1c2goZm9ybSk7CiAgICAgICAgICBjb25zb2xlLmxvZyh0YWJsZURhdGEpOwogICAgICAgICAgZGlhbG9nRm9ybVZpc2libGUudmFsdWUgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgY29uc29sZS5sb2coJ2Vycm9yIHN1Ym1pdCEnLCBmaWVsZHMpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9OwoKICAgIGNvbnN0IHJlc2V0Rm9ybSA9IGZvcm1FbCA9PiB7CiAgICAgIGlmICghZm9ybUVsKSByZXR1cm47CiAgICAgIGZvcm1FbC5yZXNldEZpZWxkcygpOwogICAgfTsKCiAgICBjb25zdCBfX3JldHVybmVkX18gPSB7CiAgICAgIGdldFN1bW1hcmllcywKICAgICAgdGFibGVEYXRhLAogICAgICBkaWFsb2dGb3JtVmlzaWJsZSwKICAgICAgZm9ybUxhYmVsV2lkdGgsCiAgICAgIHJ1bGVGb3JtUmVmLAogICAgICBmb3JtLAogICAgICBydWxlcywKICAgICAgb3BlbkFkZERpYWxvZywKICAgICAgc2F2ZSwKICAgICAgcmVzZXRGb3JtCiAgICB9OwogICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF9fcmV0dXJuZWRfXywgJ19faXNTY3JpcHRTZXR1cCcsIHsKICAgICAgZW51bWVyYWJsZTogZmFsc2UsCiAgICAgIHZhbHVlOiB0cnVlCiAgICB9KTsKICAgIHJldHVybiBfX3JldHVybmVkX187CiAgfQoKfSk7"},{"version":3,"mappings":"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","names":["defineComponent","_defineComponent","reactive","ref","__name","setup","__props","expose","getSummaries","param","columns","data","sums","forEach","column","index","values","map","item","Number","property","every","value","isNaN","reduce","prev","curr","tableData","dialogFormVisible","formLabelWidth","ruleFormRef","form","name","type","cost","date","rules","required","message","trigger","openAddDialog","save","formEl","validate","valid","fields","console","log","push","resetForm","resetFields","__returned__","Object","defineProperty","enumerable"],"sourceRoot":"","sources":["C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\node_modules\\_vue-loader@16.8.3@vue-loader\\dist\\index.js??ref--1-1!C:\\Users\\admin\\Desktop\\web前端相关\\villataotao\\villataotao\\src\\views\\money.vue?vue&type=script&lang=ts&setup=true"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport type { FormInstance, FormRules } from 'element-plus'\r\nimport type { TableColumnCtx } from 'element-plus/es/components/table/src/table-column/defaults'\r\nimport { reactive, ref } from 'vue'\r\n\r\ninterface Product {\r\n  name: string\r\n  type: string\r\n  cost: string\r\n  date: string\r\n}\r\n\r\ninterface SummaryMethodProps<T = Product> {\r\n  columns: TableColumnCtx<T>[]\r\n  data: T[]\r\n}\r\n\r\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'money',\n  setup(__props, { expose }) {\n  expose();\n\r\nconst getSummaries = (param: SummaryMethodProps) => {\r\n  const { columns, data } = param\r\n  const sums: string[] = []\r\n  columns.forEach((column, index) => {\r\n    if (index === 0) {\r\n      sums[index] = '合计'\r\n      return\r\n    }\r\n    const values = data.map((item) => Number(item[column.property]))\r\n    if (!values.every((value) => Number.isNaN(value))) {\r\n      sums[index] = `$ ${values.reduce((prev, curr) => {\r\n        const value = Number(curr)\r\n        if (!Number.isNaN(value)) {\r\n          return prev + curr\r\n        } else {\r\n          return prev\r\n        }\r\n      }, 0)}`\r\n    } else {\r\n      sums[index] = 'N/A'\r\n    }\r\n  })\r\n\r\n  return sums\r\n}\r\n\r\n// 显示花销的列表\r\nconst tableData: Product[] = reactive([])\r\nconst dialogFormVisible = ref(false)\r\nconst formLabelWidth = '140px'\r\nconst ruleFormRef = ref<FormInstance>()\r\nconst form = reactive({\r\n  name: '',\r\n  type: '',\r\n  cost: '',\r\n  date: '',\r\n})\r\n\r\nconst rules = reactive<FormRules>({\r\n  name: [\r\n    {\r\n      required: true,\r\n      message: '谁花钱了就选谁',\r\n      trigger: 'change',\r\n    },\r\n  ],\r\n  type: [\r\n    {\r\n      required: true,\r\n      message: '请选择一个分类',\r\n      trigger: 'change',\r\n    },\r\n  ],\r\n  cost: [\r\n    {\r\n      required: true,\r\n      message: '请填写金额',\r\n      trigger: 'change',\r\n    },\r\n  ],\r\n  date: [\r\n    {\r\n      type: 'date',\r\n      required: true,\r\n      message: '哪天花的钱？',\r\n      trigger: 'change',\r\n    },\r\n  ],\r\n})\r\n\r\n// 打开弹窗\r\nconst openAddDialog = () => {\r\n  dialogFormVisible.value = true\r\n}\r\n\r\nconst save = async (formEl: FormInstance | undefined) => {\r\n  if (!formEl) return\r\n  await formEl.validate((valid, fields) => {\r\n    if (valid) {\r\n      console.log(form)\r\n      tableData.push(form)\r\n      console.log(tableData)\r\n\r\n      dialogFormVisible.value = false\r\n    } else {\r\n      console.log('error submit!', fields)\r\n    }\r\n  })\r\n}\r\nconst resetForm = (formEl: FormInstance | undefined) => {\r\n  if (!formEl) return\r\n  formEl.resetFields()\r\n}\r\n\nconst __returned__ = { getSummaries, tableData, dialogFormVisible, formLabelWidth, ruleFormRef, form, rules, openAddDialog, save, resetForm }\nObject.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true })\nreturn __returned__\n}\n\n})"]}]}